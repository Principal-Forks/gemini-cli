{
  "pv": {
    "name": "Gemini CLI Architecture",
    "version": "1.0.0"
  },
  "nodes": [
    {
      "id": "user",
      "type": "text",
      "x": 248,
      "y": -620,
      "width": 120,
      "height": 80,
      "color": "#4285F4",
      "text": "User",
      "pv": {
        "nodeType": "user",
        "shape": "person"
      }
    },
    {
      "id": "cli",
      "type": "text",
      "x": 494,
      "y": -584,
      "width": 140,
      "height": 80,
      "color": "#4285F4",
      "text": "CLI Package",
      "pv": {
        "nodeType": "cli_package",
        "shape": "rectangle"
      }
    },
    {
      "id": "terminal",
      "type": "text",
      "x": 765,
      "y": -583,
      "width": 140,
      "height": 80,
      "color": "#34A853",
      "text": "Terminal UI",
      "pv": {
        "nodeType": "terminal_ui",
        "shape": "rectangle"
      }
    },
    {
      "id": "core",
      "type": "text",
      "x": 765,
      "y": -445,
      "width": 140,
      "height": 80,
      "color": "#EA4335",
      "text": "Core Package",
      "pv": {
        "nodeType": "core_package",
        "shape": "rectangle"
      }
    },
    {
      "id": "context",
      "type": "text",
      "x": 1022,
      "y": -446,
      "width": 140,
      "height": 80,
      "color": "#FBBC04",
      "text": "Context Manager",
      "pv": {
        "nodeType": "context_manager",
        "shape": "ellipse"
      }
    },
    {
      "id": "tools",
      "type": "text",
      "x": 1019,
      "y": -556,
      "width": 140,
      "height": 80,
      "color": "#FF6D01",
      "text": "Tool Registry",
      "pv": {
        "nodeType": "tool_registry",
        "shape": "ellipse"
      }
    },
    {
      "id": "confirmation",
      "type": "text",
      "x": 1019,
      "y": -731,
      "width": 140,
      "height": 80,
      "color": "#9AA0A6",
      "text": "Confirmation Bus",
      "pv": {
        "nodeType": "confirmation_bus",
        "shape": "diamond"
      }
    },
    {
      "id": "file_service",
      "type": "text",
      "x": 1594,
      "y": -218,
      "width": 140,
      "height": 80,
      "color": "#0F9D58",
      "text": "File Service",
      "pv": {
        "nodeType": "file_service",
        "shape": "rectangle"
      }
    },
    {
      "id": "git_service",
      "type": "text",
      "x": 1419,
      "y": -220,
      "width": 140,
      "height": 80,
      "color": "#F4B400",
      "text": "Git Service",
      "pv": {
        "nodeType": "git_service",
        "shape": "rectangle"
      }
    },
    {
      "id": "shell_service",
      "type": "text",
      "x": 1245,
      "y": -221,
      "width": 140,
      "height": 80,
      "color": "#DB4437",
      "text": "Shell Service",
      "pv": {
        "nodeType": "shell_service",
        "shape": "rectangle"
      }
    },
    {
      "id": "model_config",
      "type": "text",
      "x": 765,
      "y": -189,
      "width": 140,
      "height": 80,
      "color": "#673AB7",
      "text": "Model Config Service",
      "pv": {
        "nodeType": "model_config_service",
        "shape": "rectangle"
      }
    },
    {
      "id": "builtin_tools",
      "type": "text",
      "x": 1419,
      "y": -451,
      "width": 140,
      "height": 119,
      "color": "#607D8B",
      "text": "Built-in Tools",
      "pv": {
        "nodeType": "builtin_tools",
        "shape": "hexagon"
      }
    },
    {
      "id": "mcp_tools",
      "type": "text",
      "x": 1232,
      "y": -448,
      "width": 140,
      "height": 120,
      "color": "#795548",
      "text": "MCP Tools",
      "pv": {
        "nodeType": "mcp_tools",
        "shape": "hexagon"
      }
    },
    {
      "id": "policy_engine",
      "type": "text",
      "x": 524,
      "y": -240,
      "width": 140,
      "height": 80,
      "color": "#E91E63",
      "text": "Policy Engine",
      "pv": {
        "nodeType": "policy_engine",
        "shape": "shield"
      }
    },
    {
      "id": "config_system",
      "type": "text",
      "x": 325,
      "y": -344,
      "width": 140,
      "height": 80,
      "color": "#9C27B0",
      "text": "Config System",
      "pv": {
        "nodeType": "config_system",
        "shape": "gear"
      }
    },
    {
      "id": "gemini_api",
      "type": "text",
      "x": 1022,
      "y": -341,
      "width": 140,
      "height": 80,
      "color": "#4285F4",
      "text": "Gemini API",
      "pv": {
        "nodeType": "gemini_api",
        "shape": "cloud"
      }
    },
    {
      "id": "vscode",
      "type": "text",
      "x": 495,
      "y": -472,
      "width": 140,
      "height": 80,
      "color": "#007ACC",
      "text": "VS Code Extension",
      "pv": {
        "nodeType": "vscode_extension",
        "shape": "rectangle"
      }
    },
    {
      "id": "a2a_server",
      "type": "text",
      "x": 1021,
      "y": -238,
      "width": 140,
      "height": 80,
      "color": "#FF5722",
      "text": "A2A Server",
      "pv": {
        "nodeType": "a2a_server",
        "shape": "rectangle"
      }
    }
  ],
  "edges": [
    {
      "id": "user_to_cli",
      "fromNode": "user",
      "toNode": "cli",
      "fromSide": "right",
      "toSide": "left",
      "label": "commands",
      "color": "#FBBC04",
      "pv": {
        "edgeType": "user_interaction"
      }
    },
    {
      "id": "cli_to_terminal",
      "fromNode": "cli",
      "toNode": "terminal",
      "fromSide": "right",
      "toSide": "left",
      "label": "render",
      "color": "#FBBC04",
      "pv": {
        "edgeType": "data_flow"
      }
    },
    {
      "id": "cli_to_core",
      "fromNode": "cli",
      "toNode": "core",
      "fromSide": "right",
      "toSide": "left",
      "label": "requests",
      "color": "#FBBC04",
      "pv": {
        "edgeType": "data_flow"
      }
    },
    {
      "id": "core_to_context",
      "fromNode": "core",
      "toNode": "context",
      "fromSide": "right",
      "toSide": "left",
      "label": "manages",
      "color": "#FBBC04",
      "pv": {
        "edgeType": "data_flow"
      }
    },
    {
      "id": "core_to_tools",
      "fromNode": "core",
      "toNode": "tools",
      "fromSide": "right",
      "toSide": "left",
      "label": "invokes",
      "color": "#EA4335",
      "pv": {
        "edgeType": "tool_execution"
      }
    },
    {
      "id": "builtin_to_file",
      "fromNode": "builtin_tools",
      "toNode": "file_service",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "uses",
      "color": "#EA4335",
      "pv": {
        "edgeType": "tool_execution"
      }
    },
    {
      "id": "builtin_to_git",
      "fromNode": "builtin_tools",
      "toNode": "git_service",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "uses",
      "color": "#EA4335",
      "pv": {
        "edgeType": "tool_execution"
      }
    },
    {
      "id": "builtin_to_shell",
      "fromNode": "builtin_tools",
      "toNode": "shell_service",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "uses",
      "color": "#EA4335",
      "pv": {
        "edgeType": "tool_execution"
      }
    },
    {
      "id": "edge-tools-mcp_tools-1766440646605",
      "fromNode": "tools",
      "toNode": "mcp_tools",
      "fromSide": "right",
      "toSide": "top",
      "pv": {
        "edgeType": "extension_point"
      }
    },
    {
      "id": "edge-tools-builtin_tools-1766440646605",
      "fromNode": "tools",
      "toNode": "builtin_tools",
      "fromSide": "right",
      "toSide": "top",
      "pv": {
        "edgeType": "extension_point"
      }
    },
    {
      "id": "edge-vscode-cli-1766441104069",
      "fromNode": "vscode",
      "toNode": "cli",
      "fromSide": "top",
      "toSide": "bottom",
      "pv": {
        "edgeType": "extension_point"
      }
    },
    {
      "id": "edge-confirmation-cli-1766441104069",
      "fromNode": "confirmation",
      "toNode": "cli",
      "fromSide": "left",
      "toSide": "top",
      "pv": {
        "edgeType": "user_interaction"
      }
    },
    {
      "id": "edge-tools-confirmation-1766441104069",
      "fromNode": "tools",
      "toNode": "confirmation",
      "fromSide": "top",
      "toSide": "bottom",
      "pv": {
        "edgeType": "data_flow"
      }
    },
    {
      "id": "edge-core-model_config-1766441104069",
      "fromNode": "core",
      "toNode": "model_config",
      "fromSide": "bottom",
      "toSide": "top",
      "pv": {
        "edgeType": "configuration"
      }
    },
    {
      "id": "edge-core-a2a_server-1766441104069",
      "fromNode": "core",
      "toNode": "a2a_server",
      "fromSide": "right",
      "toSide": "left",
      "pv": {
        "edgeType": "api_call"
      }
    },
    {
      "id": "edge-config_system-core-1766441104069",
      "fromNode": "config_system",
      "toNode": "core",
      "fromSide": "right",
      "toSide": "left",
      "pv": {
        "edgeType": "configuration"
      }
    },
    {
      "id": "edge-policy_engine-core-1766441104069",
      "fromNode": "policy_engine",
      "toNode": "core",
      "fromSide": "right",
      "toSide": "left",
      "pv": {
        "edgeType": "configuration"
      }
    },
    {
      "id": "edge-core-gemini_api-1766441104069",
      "fromNode": "core",
      "toNode": "gemini_api",
      "fromSide": "right",
      "toSide": "left",
      "pv": {
        "edgeType": "api_call"
      }
    },
    {
      "id": "edge-config_system-policy_engine-1766441104069",
      "fromNode": "config_system",
      "toNode": "policy_engine",
      "fromSide": "right",
      "toSide": "left",
      "pv": {
        "edgeType": "configuration"
      }
    }
  ]
}