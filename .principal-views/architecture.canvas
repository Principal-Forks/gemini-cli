{
  "pv": {
    "name": "Gemini CLI Architecture",
    "version": "1.0.0"
  },
  "nodes": [
    {
      "id": "user",
      "type": "text",
      "x": 50,
      "y": 60,
      "width": 120,
      "height": 80,
      "color": "#4285F4",
      "text": "User",
      "pv": {
        "nodeType": "user",
        "shape": "person"
      }
    },
    {
      "id": "cli",
      "type": "text",
      "x": 250,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#4285F4",
      "text": "CLI Package",
      "pv": {
        "nodeType": "cli_package",
        "shape": "rectangle"
      }
    },
    {
      "id": "terminal",
      "type": "text",
      "x": 450,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#34A853",
      "text": "Terminal UI",
      "pv": {
        "nodeType": "terminal_ui",
        "shape": "rectangle"
      }
    },
    {
      "id": "core",
      "type": "text",
      "x": 650,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#EA4335",
      "text": "Core Package",
      "pv": {
        "nodeType": "core_package",
        "shape": "rectangle"
      }
    },
    {
      "id": "context",
      "type": "text",
      "x": 850,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#FBBC04",
      "text": "Context Manager",
      "pv": {
        "nodeType": "context_manager",
        "shape": "ellipse"
      }
    },
    {
      "id": "tools",
      "type": "text",
      "x": 1050,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#FF6D01",
      "text": "Tool Registry",
      "pv": {
        "nodeType": "tool_registry",
        "shape": "ellipse"
      }
    },
    {
      "id": "confirmation",
      "type": "text",
      "x": 1250,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#9AA0A6",
      "text": "Confirmation Bus",
      "pv": {
        "nodeType": "confirmation_bus",
        "shape": "diamond"
      }
    },
    {
      "id": "file_service",
      "type": "text",
      "x": 1450,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#0F9D58",
      "text": "File Service",
      "pv": {
        "nodeType": "file_service",
        "shape": "rectangle"
      }
    },
    {
      "id": "git_service",
      "type": "text",
      "x": 1650,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#F4B400",
      "text": "Git Service",
      "pv": {
        "nodeType": "git_service",
        "shape": "rectangle"
      }
    },
    {
      "id": "shell_service",
      "type": "text",
      "x": 1850,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#DB4437",
      "text": "Shell Service",
      "pv": {
        "nodeType": "shell_service",
        "shape": "rectangle"
      }
    },
    {
      "id": "model_config",
      "type": "text",
      "x": 2050,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#673AB7",
      "text": "Model Config Service",
      "pv": {
        "nodeType": "model_config_service",
        "shape": "rectangle"
      }
    },
    {
      "id": "builtin_tools",
      "type": "text",
      "x": 2250,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#607D8B",
      "text": "Built-in Tools",
      "pv": {
        "nodeType": "builtin_tools",
        "shape": "hexagon"
      }
    },
    {
      "id": "mcp_tools",
      "type": "text",
      "x": 2450,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#795548",
      "text": "MCP Tools",
      "pv": {
        "nodeType": "mcp_tools",
        "shape": "hexagon"
      }
    },
    {
      "id": "policy_engine",
      "type": "text",
      "x": 2650,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#E91E63",
      "text": "Policy Engine",
      "pv": {
        "nodeType": "policy_engine",
        "shape": "shield"
      }
    },
    {
      "id": "config_system",
      "type": "text",
      "x": 2850,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#9C27B0",
      "text": "Config System",
      "pv": {
        "nodeType": "config_system",
        "shape": "gear"
      }
    },
    {
      "id": "gemini_api",
      "type": "text",
      "x": 3050,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#4285F4",
      "text": "Gemini API",
      "pv": {
        "nodeType": "gemini_api",
        "shape": "cloud"
      }
    },
    {
      "id": "vscode",
      "type": "text",
      "x": 3250,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#007ACC",
      "text": "VS Code Extension",
      "pv": {
        "nodeType": "vscode_extension",
        "shape": "rectangle"
      }
    },
    {
      "id": "a2a_server",
      "type": "text",
      "x": 3450,
      "y": 60,
      "width": 140,
      "height": 80,
      "color": "#FF5722",
      "text": "A2A Server",
      "pv": {
        "nodeType": "a2a_server",
        "shape": "rectangle"
      }
    }
  ],
  "edges": [
    {
      "id": "user_to_cli",
      "fromNode": "user",
      "toNode": "cli",
      "fromSide": "right",
      "toSide": "left",
      "label": "commands",
      "color": "#FBBC04"
    },
    {
      "id": "cli_to_terminal",
      "fromNode": "cli",
      "toNode": "terminal",
      "fromSide": "right",
      "toSide": "left",
      "label": "render",
      "color": "#FBBC04"
    },
    {
      "id": "cli_to_core",
      "fromNode": "cli",
      "toNode": "core",
      "fromSide": "right",
      "toSide": "left",
      "label": "requests",
      "color": "#FBBC04"
    },
    {
      "id": "core_to_context",
      "fromNode": "core",
      "toNode": "context",
      "fromSide": "right",
      "toSide": "left",
      "label": "manages",
      "color": "#FBBC04"
    },
    {
      "id": "core_to_tools",
      "fromNode": "core",
      "toNode": "tools",
      "fromSide": "right",
      "toSide": "left",
      "label": "invokes",
      "color": "#EA4335"
    },
    {
      "id": "tools_to_confirmation",
      "fromNode": "tools",
      "toNode": "confirmation",
      "fromSide": "right",
      "toSide": "left",
      "label": "requires_approval",
      "color": "#FBBC04"
    },
    {
      "id": "confirmation_to_cli",
      "fromNode": "confirmation",
      "toNode": "cli",
      "fromSide": "left",
      "toSide": "bottom",
      "label": "prompts_user",
      "color": "#FBBC04"
    },
    {
      "id": "tools_to_builtin",
      "fromNode": "tools",
      "toNode": "builtin_tools",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "loads",
      "color": "#FF6D01"
    },
    {
      "id": "tools_to_mcp",
      "fromNode": "tools",
      "toNode": "mcp_tools",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "loads",
      "color": "#FF6D01"
    },
    {
      "id": "builtin_to_file",
      "fromNode": "builtin_tools",
      "toNode": "file_service",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "uses",
      "color": "#EA4335"
    },
    {
      "id": "builtin_to_git",
      "fromNode": "builtin_tools",
      "toNode": "git_service",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "uses",
      "color": "#EA4335"
    },
    {
      "id": "builtin_to_shell",
      "fromNode": "builtin_tools",
      "toNode": "shell_service",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "uses",
      "color": "#EA4335"
    },
    {
      "id": "core_to_gemini",
      "fromNode": "core",
      "toNode": "gemini_api",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "communicates",
      "color": "#34A853"
    },
    {
      "id": "core_to_model_config",
      "fromNode": "core",
      "toNode": "model_config",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "configured_by",
      "color": "#9AA0A6"
    },
    {
      "id": "policy_to_core",
      "fromNode": "policy_engine",
      "toNode": "core",
      "fromSide": "right",
      "toSide": "bottom",
      "label": "restricts",
      "color": "#9AA0A6"
    },
    {
      "id": "config_to_policy",
      "fromNode": "config_system",
      "toNode": "policy_engine",
      "fromSide": "right",
      "toSide": "left",
      "label": "defines",
      "color": "#9AA0A6"
    },
    {
      "id": "config_to_core",
      "fromNode": "config_system",
      "toNode": "core",
      "fromSide": "right",
      "toSide": "bottom",
      "label": "configures",
      "color": "#9AA0A6"
    },
    {
      "id": "vscode_to_cli",
      "fromNode": "vscode",
      "toNode": "cli",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "integrates",
      "color": "#FF6D01"
    },
    {
      "id": "core_to_a2a",
      "fromNode": "core",
      "toNode": "a2a_server",
      "fromSide": "bottom",
      "toSide": "top",
      "label": "communicates",
      "color": "#34A853"
    }
  ]
}